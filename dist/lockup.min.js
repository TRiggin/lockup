/*! lockup 1.0.0 (https://github.com/mobify/lockup.git) */
(function(t){if("function"==typeof define&&define.amd)define(["$","plugin","deckard"],t);else{var o=window.Zepto||window.jQuery;t(o,window.Plugin)}})(function(t,o){function i(t,o){i.__super__.call(this,t,o,i.DEFAULTS)}t.extend(t.fn,{renameAttr:function(o,i){return this.each(function(){var s=t(this);s.attr(i,s.attr(o)).removeAttr(o)})}});var s={CONTAINER:"lockup__container",LOCKED:"lockup--is-locked"};return i.VERSION="1.0.0",i.DEFAULTS={container:null,locked:t.noop,unlocked:t.noop},o.create("lockup",i,{_init:function(o){this.$element=t(o),this.$html=t("html"),this.$body=t("body"),this.$doc=t(document),this.$container=this._buildContainer()},_buildContainer:function(){var o=t("."+s.CONTAINER);return o.length||(o=this.options.container?t(this.options.container).addClass(s.CONTAINER):this._createContainer()),o},_createContainer:function(){var o=this.$body.find("script").renameAttr("src","x-src").attr("type","text/lockup-script");return this.$body.wrapInner(t("<div />").addClass(s.CONTAINER)),o.renameAttr("x-src","src").attr("type","text/javascript"),this.$body.find("."+s.CONTAINER)},lock:function(){var o=this,i=function(t){return parseInt(o.$body.css("padding-"+t))};this.scrollPosition=this.$body.scrollTop(),this.$doc.off("touchmove",this._preventDefault),this.$container.addClass(s.LOCKED),t.browser.chrome?(this.$html.css("position","fixed"),this.$html.css("top",-1*this.scrollPosition),this._trigger("locked")):t.os.ios&&t.os.major>=8?(this.$body.css("margin-top",0).css("margin-bottom",0),this.$container.height(window.innerHeight).css("overflow","hidden").scrollTop(this.scrollPosition-i("top")-i("bottom")),this._trigger("locked")):t.os.ios&&7>=t.os.major&&this.$element.find("input, select, textarea").on("focus",function(){setTimeout(function(){window.scrollTo(0,o.scrollPosition),o._trigger("locked")},0)})},unlock:function(){this.$doc.on("touchmove",this._preventDefault),this.$container.removeClass(s.LOCKED),t.browser.chrome?(this.$html.css("position",""),this.$html.css("top",""),window.scrollTo(0,this.scrollPosition)):t.os.ios&&t.os.major>=8?(this.$body.css("margin",""),this.$container.css("overflow","").css("height",""),window.scrollTo(0,this.scrollPosition)):t.os.ios&&7>=t.os.major&&this.$element.find("input, select, textarea").off("focus"),this._trigger("unlocked"),this.$doc.off("touchmove",this._preventDefault)},isLocked:function(){return this.$container.hasClass(s.LOCKED)},_preventDefault:function(t){t.preventDefault()}}),t});
/*! lockup 0.0.2 (https://github.com/mobify/lockup.git) */
(function(t){if("function"==typeof define&&define.amd)define(["$","plugin"],t);else{var i=window.Zepto||window.jQuery;t(i,window.bouncefix,window.Plugin)}})(function(t,i){function n(t,i){n.__super__.call(this,t,i,n.DEFAULTS)}t.extend(t.fn,{renameAttr:function(i,n){return this.each(function(){var o=t(this);o.attr(n,o.attr(i)).removeAttr(i)})}});var o={CONTAINER:"lockup__container"};return n.VERSION="0.0.2",n.DEFAULTS={container:null},i.create("lockup",n,{_init:function(i){this.$element=t(i),this.$html=t("html"),this.$body=t("body"),this.$doc=t(document),this.isChrome=/chrome/i.test(navigator.userAgent),this.iOSVersion=this._getiOSVersion(),this.$element.appendTo(this.$container=this._buildContainer())},_buildContainer:function(){var i=t("."+o.CONTAINER);return this.options.container?i.length||(i=t(this.options.container).addClass(o.CONTAINER)):i.length||(i=this._createContainer()),i},_createContainer:function(){var i=this.$body.find("script").renameAttr("src","x-src").attr("type","text/lockup-script"),n=t("<div />").addClass(o.CONTAINER);return this.$body.wrapInner(n),i.renameAttr("x-src","src").attr("type","text/javascript"),n},container:function(){return this.$container},lock:function(){var t=this,i=function(i){return parseInt(t.$body.css("padding-"+i))};this.scrollPosition=this.$body.scrollTop(),this.$doc.off("touchmove",this._preventDefault),this.isChrome?(this.$html.css("position","fixed"),this.$html.css("top",-1*this.scrollPosition)):this.iOSVersion&&this.iOSVersion>=8?(this.$body.css("margin-top",0).css("margin-bottom",0),this.$container.height(window.innerHeight).css("overflow","hidden").scrollTop(this.scrollPosition-i("top")-i("bottom"))):this.iOSVersion&&7>=this.iOSVersion&&this.$element.find("input, select, textarea").on("focus",function(){setTimeout(function(){window.scrollTo(0,t.scrollPosition)},0)})},unlock:function(){this.$doc.on("touchmove",this._preventDefault),this.isChrome?(this.$html.css("position",""),this.$html.css("top",""),window.scrollTo(0,this.scrollPosition)):this.iOSVersion&&this.iOSVersion>=8?(this.$body.css("margin",""),this.$container.css("overflow","").css("height",""),window.scrollTo(0,this.scrollPosition)):this.iOSVersion&&7>=this.iOSVersion&&this.$element.find("input, select, textarea").off("focus"),this.$doc.off("touchmove",this._preventDefault)},_getiOSVersion:function(){if(/ip(hone|od|ad)/i.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return t=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)],t&&t[0]||0}return!1},_preventDefault:function(t){t.preventDefault()}}),t});